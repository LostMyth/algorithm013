### 学习笔记

---

#### 1、HashMap源码分析

1. put方法

   调用hash方法传入key，如果key为null，则返回值为0，否则为：(h = key.hashCode()) ^ (h >>> 16)

   HashMap内部维护了一个Node Table， 如果第一次调用， 则先初始化这个table。

   然后计算数组下标，下标计算方法为(n - 1) & hash， n为数组长度，这里与上n-1是为了保证结果不会超过当前数组长度。

   如果下标位置所在为null， 则直接new一个node放到下标位置。如果下位位置不为空，则进行如下步骤

   判断key的hash与当前下标的key是否相同， 如相同则继续判断key值是否一样， 一样的话则直接覆盖。

   如果有一个不同，则判断当前节点是否为一个红黑树（jdk1.8后如果链表达到一定长度则转化为红黑树），如果是，直接放入树中。

   不是的话，则证明当前是个链表。将元素放入链表中后， 会判断链表长度，如果超过8，则转化为红黑树。如果存在hash与key值都相同的元素， 则进行替换并返回之前元素的value。

2. get方法

   计算key值所对应数组下标，如果是node直接返回，如果是链表或者红黑树，从里面取值返回。

#### 2、学习心得

  通过两周的学习，算法水平有了一定的提高。以前对递归是看得懂却写不出来，现在已经开始慢慢能写出来了。还是继续加油~~~





